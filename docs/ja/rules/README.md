# ルール

## 構造

ルールは**共通**レイヤーに加えて、**言語別**ディレクトリに整理されています：

```
rules/
├── common/          # 言語に依存しない原則（常にインストール）
│   ├── coding-style.md
│   ├── git-workflow.md
│   ├── testing.md
│   ├── performance.md
│   ├── patterns.md
│   ├── hooks.md
│   ├── agents.md
│   └── security.md
├── typescript/      # TypeScript/JavaScript固有
├── python/          # Python固有
└── golang/          # Go固有
```

- **common/** には普遍的な原則が含まれており、言語固有のコード例はありません。
- **言語ディレクトリ** は共通ルールを拡張し、フレームワーク固有のパターン、ツール、コード例を提供します。各ファイルは対応する共通ファイルを参照します。

## インストール

```bash
# 共通ルールをインストール（全プロジェクトで必須）
cp -r rules/common/* ~/.claude/rules/

# プロジェクトの技術スタックに応じて言語固有のルールをインストール
cp -r rules/typescript/* ~/.claude/rules/
cp -r rules/python/* ~/.claude/rules/
cp -r rules/golang/* ~/.claude/rules/

# 注意！実際のプロジェクト要件に応じて設定してください。ここでの設定は参考用です。

```

## ルール vs スキル

- **ルール** は広く適用される標準、規約、チェックリストを定義します（例：「80%のテストカバレッジ」、「ハードコードされた秘密情報を含まない」）。
- **スキル**（`skills/` ディレクトリ）は特定のタスクに対する深い実用的なリファレンス資料を提供します（例：`python-patterns`, `golang-testing`）。

言語固有のルールファイルは、必要に応じて関連するスキルを参照します。ルールは*何を*すべきかを示し、スキルは*どのように*それを行うかを示します。

## 新しい言語の追加

新しい言語（例：`rust/`）のサポートを追加するには：

1. `rules/rust/` ディレクトリを作成
2. 共通ルールを拡張するファイルを追加：
   - `coding-style.md` — フォーマットツール、イディオム、エラーハンドリングパターン
   - `testing.md` — テストフレームワーク、カバレッジツール、テスト構成
   - `patterns.md` — 言語固有のデザインパターン
   - `hooks.md` — フォーマッター、リンター、型チェッカー用のPostToolUseフック
   - `security.md` — 秘密情報管理、セキュリティスキャンツール
3. 各ファイルは以下で始める必要があります：
   ```
   > このファイルは [common/xxx.md](../common/xxx.md) を<言語>固有のコンテンツで拡張します。
   ```
4. 既存のスキルがある場合は参照し、ない場合は `skills/` 配下に新規作成します。
